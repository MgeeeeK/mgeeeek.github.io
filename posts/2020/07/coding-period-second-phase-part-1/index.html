<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="map[name:Mragank Shekhar]">
<meta name="description" content="Phase 1 of the coding period has already completed and we&amp;rsquo;ve had almost reached the midpoint of the coding period. This blog will provide a short update of the work done in the last couple of weeks.
API Status At the end of Phase 1, there were some bug fixes and API changes that my mentors suggested, these were minor changes that were quickly included in the project in the following week." />
<meta name="keywords" content="blog,developer,personal, gsoc, coding period" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="#252627" />
<link rel="canonical" href="https://mgeeeek.github.io/posts/2020/07/coding-period-second-phase-part-1/" />


    <title>
        
            Coding Period: Second Phase Part 1 :: Mragank Shekhar 
        
    </title>



<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="https://mgeeeek.github.io/main.min.1a82fce3e67e89eaadce1b92ba2f322a11be767a9f2d81a9b53a3a82dd213a5f.css">




    <link rel="apple-touch-icon" sizes="180x180" href="https://mgeeeek.github.io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://mgeeeek.github.io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://mgeeeek.github.io/favicon-16x16.png">
    <link rel="manifest" href="https://mgeeeek.github.io/site.webmanifest">
    <link rel="mask-icon" href="https://mgeeeek.github.io/safari-pinned-tab.svg" color="#252627">
    <link rel="shortcut icon" href="https://mgeeeek.github.io/favicon.ico">
    <meta name="msapplication-TileColor" content="#252627">
    <meta name="theme-color" content="#252627">

<meta itemprop="name" content="Coding Period: Second Phase Part 1">
<meta itemprop="description" content="Phase 1 of the coding period has already completed and we&rsquo;ve had almost reached the midpoint of the coding period. This blog will provide a short update of the work done in the last couple of weeks.
API Status At the end of Phase 1, there were some bug fixes and API changes that my mentors suggested, these were minor changes that were quickly included in the project in the following week.">
<meta itemprop="datePublished" content="2020-07-17T00:00:00+00:00" />
<meta itemprop="dateModified" content="2020-07-17T00:00:00+00:00" />
<meta itemprop="wordCount" content="630">
<meta itemprop="image" content="https://mgeeeek.github.io"/>



<meta itemprop="keywords" content="gsoc,coding period," />
<meta property="og:title" content="Coding Period: Second Phase Part 1" />
<meta property="og:description" content="Phase 1 of the coding period has already completed and we&rsquo;ve had almost reached the midpoint of the coding period. This blog will provide a short update of the work done in the last couple of weeks.
API Status At the end of Phase 1, there were some bug fixes and API changes that my mentors suggested, these were minor changes that were quickly included in the project in the following week." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mgeeeek.github.io/posts/2020/07/coding-period-second-phase-part-1/" />
<meta property="og:image" content="https://mgeeeek.github.io"/>
<meta property="article:published_time" content="2020-07-17T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-07-17T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://mgeeeek.github.io"/>

<meta name="twitter:title" content="Coding Period: Second Phase Part 1"/>
<meta name="twitter:description" content="Phase 1 of the coding period has already completed and we&rsquo;ve had almost reached the midpoint of the coding period. This blog will provide a short update of the work done in the last couple of weeks.
API Status At the end of Phase 1, there were some bug fixes and API changes that my mentors suggested, these were minor changes that were quickly included in the project in the following week."/>



    <meta property="article:section" content="gsoc" />



    <meta property="article:published_time" content="2020-07-17 00:00:00 &#43;0000 UTC" />







    </head>

    <body class="">
        <main class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://mgeeeek.github.io/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">Home</span>
            <span class="logo__cursor" style=
                  "
                   background-color:#f25056;
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://mgeeeek.github.io/about/">About</a></li><li><a href="https://mgeeeek.github.io/posts/">Blogs</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>3 minutes

            

            </p>
        </div>

        <article>
            <h1 class="post-title">
                <a href="https://mgeeeek.github.io/posts/2020/07/coding-period-second-phase-part-1/">Coding Period: Second Phase Part 1</a>
            </h1>

            

            <div class="post-content">
                <p><em>Phase 1 of the coding period has already completed and we&rsquo;ve had almost reached the midpoint of the coding period. This blog will provide a short update of the work done in the last couple of weeks.</em></p>
<h2 id="api-status">API Status</h2>
<p>At the end of Phase 1, there were some bug fixes and API changes that my mentors suggested, these were minor changes that were quickly included in the project in the following week. After adding these changes the base raster interface was ready to get reviewed by the PySAL community and one of the main discussion topic was related to the attribute situation that the raster project was facing. After a detailed meeting with community members regarding the <code>W</code> object&hellip; which was really interesting as the conversation deep dived into the history and the API decisions went behind the creation of <code>W</code> object which is very core to the PySAL library as most methods are built around it, you can checkout these <a href="https://hackmd.io/Fozkz1IRQlK6GYVKI8mF9Q?both">meeting notes</a> anyway&hellip; one of the major change that was proposed is to shift towards <code>WSP</code> object (go through my last blogs to learn more about these 2 objects) additionally <code>id_order</code> attribute will be replaced by <code>index</code> which will contain instance of <code>pandas.Index</code> aligned with the ids of the weight object.
This required some changes in my existing implementation, since the API was finalized I created a pull request which can be accessed here -</p>
<ul>
<li><a href="https://github.com/pysal/libpysal/pull/318">[WIP] : Base Raster Interface</a></li>
</ul>
<p>I also started working on unit tests and documentation to go along with the interface. When I look back at my proposal I feel like I underestimated the first phase, this which was a mistake from my side as I never thought how much time it goes behind the designing the API.</p>
<h2 id="optimization-phase">Optimization Phase</h2>
<p>In the proposed timeline, after successfully delivering the base raster interface with complete and finalized API I planned to work on the optimization phase. Since the API was almost finished I started to think about possible solutions to improve the <em>performance</em> and <em>scalability</em> of the current methods. After my project related meeting with my mentors, we finalized several optimization related ideas that can be incorporated in the project. You can look into this issue which contains discussion related to the optimization phase -</p>
<ul>
<li><a href="https://github.com/pysal/libpysal/issues/293">Idea collection/discussion for Raster awareness project</a></li>
</ul>
<p>One of the more ambitious ideas was to create a <em>lazy graph mixin</em>, since a raster can be expressed as a regular lattice, we can build the weight object <em>on-the-fly</em> with only some information about raster in the memory. I explored this idea and pushed a <em>prototype</em> object which calculates neighbors of a given id lazily, it is still far from the real solution but it will help me to think more about this concept as it will significantly help the interface to work even on low memory.</p>
<ul>
<li><a href="https://github.com/MgeeeeK/libpysal/pull/7">[WIP] : Lazy weights object for raster interface</a></li>
</ul>
<p>Right now the top priority is to build the weights object with only <em>non-missing values</em> as the current approach builds a regular lattice and then removes the missing values using boolean masking which is computationally quite expensive. Along with this, I&rsquo;ve to think about how I can utilize almighty <code>numba</code> to further improve the performance of the builders, I&rsquo;ve experimented with this to improve the existing solution you can check the implementation here -</p>
<ul>
<li><a href="https://github.com/MgeeeeK/libpysal/pull/6">[WIP]: Raster optimization phase</a></li>
</ul>
<p>Once the base interface is merged I&rsquo;ll work on these solutions and explore more ways to optimize the interface.</p>
<h2 id="whats-next">What&rsquo;s next?</h2>
<p>Currently, my main focus is to complete the base raster interface by adding tests and documentation. After that, I&rsquo;ll look into ongoing optimization of the current methods and later explore ideas related to integrating the interface with other library components.</p>
<p>Goodbye 👋 fellow human, will meet you in the next blog.</p>

            </div>
        </article>

        <hr />

        <div class="post-info">
                <p>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="https://mgeeeek.github.io/tags/gsoc">gsoc</a></span><span class="tag"><a href="https://mgeeeek.github.io/tags/coding-period">coding period</a></span>
                </p>

            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>630 Words</p>

            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2020-07-17 05:30 &#43;0530</p>
        </div>

        
            <div class="pagination">
                <div class="pagination__title">
                    <span class="pagination__title-h"></span>
                    <hr />
                </div>

                <div class="pagination__buttons">
                    
                        <span class="button previous">
                            <a href="https://mgeeeek.github.io/posts/2020/07/coding-period-second-phase-part-2/">
                                <span class="button__icon">←</span>
                                <span class="button__text">Coding Period: Second Phase Part 2</span>
                            </a>
                        </span>
                    

                    
                        <span class="button next">
                            <a href="https://mgeeeek.github.io/posts/2020/06/coding-period-first-phase-part-2/">
                                <span class="button__text">Coding Period: First Phase Part 2</span>
                                <span class="button__icon">→</span>
                            </a>
                        </span>
                    
                </div>
            </div>
        
    </main>

            </div>
        </div>

        




<script type="text/javascript" src="https://mgeeeek.github.io/bundle.min.2d5469329143160ae2456a69c3c76dc2d0a3b212b46afe291a51bd68650ed6f8697e001dab54f1c272c77ce08092a8c55e5bb4314e0ee334aab4b927ec896638.js" integrity="sha512-LVRpMpFDFgriRWppw8dtwtCjshK0av4pGlG9aGUO1vhpfgAdq1TxwnLHfOCAkqjFXlu0MU4O4zSqtLkn7IlmOA=="></script>




    </main>

        




<script type="text/javascript" src="https://mgeeeek.github.io/bundle.min.2d5469329143160ae2456a69c3c76dc2d0a3b212b46afe291a51bd68650ed6f8697e001dab54f1c272c77ce08092a8c55e5bb4314e0ee334aab4b927ec896638.js" integrity="sha512-LVRpMpFDFgriRWppw8dtwtCjshK0av4pGlG9aGUO1vhpfgAdq1TxwnLHfOCAkqjFXlu0MU4O4zSqtLkn7IlmOA=="></script>




</html>
